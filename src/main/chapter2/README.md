# 2장. 입출금 내역 분석기
## 응집도 (Cohesion)

- 클래스나 메서드의 책임이 서로 얼마나 강하게 연결되어 있는지를 측정하여 소프트웨어의 복잡성을 유추하는 데 도움을 준다.

### 클래스 수준 응집도

|응집도 수준|장점|단점|
|---|---|---|
|기능(높은 응집도)|이해하기 쉬움|너무 단순한 클래스 생성|
|정보(중간 응집도)|유지보수하기 쉬움|불필요한 디펜던시|
|순서(중간 응집도)|관련 동작을 찾기 쉬움|SRP를 위배할 수 있음|
|논리(중간 응집도)|높은 수준의 카테고리화 제공|SRP를 위배할 수 있음|
|유틸리티(낮은 응집도)|간단히 추가 가능|클래스의 책임을 파악하기 어려움|
|시간(낮은 응집도)|판단 불가|각 동작을 이해하고 사용하기 어려움|

#### 기능

- 기능이 비슷한 메서드를 그룹화하면 찾기도 쉽고 이해하기도 쉬우므로 응집도가 높다.
- 한 개의 메서드를 갖는 클래스를 너무 과도하게 만들려는 경향이 발생할 수 있다. 그 결과 코드가 장황해지고 복잡해진다.

#### 정보

- 같은 데이터나 도매인 객체를 처리하는 메서드를 그룹화한다.
- 여러 기능을 그룹화하면서 필요한 일부 기능을 포함하는 클래스 전체를 dependency로 추가하는 것이 약점이다.

#### 유틸리티

- 메서드가 어디에 속해야 할지 결정하기 어려울 때 사용한다.
- 유틸리티 클래스 사용은 낮은 응집도로 이어지므로 자제해야 한다. 메서드가 서로 연관성이 없으므로 클래스 전체의 기능을 추론하기가 어렵다.

#### 논리

- CSV, JSON, XML의 자료를 파싱하는 코드를 한 클래스로 그룹화할 경우 이 메서드들은 서로 관련이 없다. 
  또한, 이렇게 그룹화하면 클래스는 4가지 책임을 갖게 되므로 SRP를 위반한다.
  
#### 순차

- 파일을 읽고, 파싱하고, 처리하고, 정보를 저장하는 메서드들을 한 클래스로 그룹화한다.
이러한 순차 응집은 여러 동작이 어떻게 함께 수행되는지 쉽게 이해할 수 있지만 이는 SRP를 위반한다.
  더욱이 데이터를 처리, 요약, 저장하는 방법이 다양하므로 이 기법은 클래스를 순식간에 복잡하게 만든다.
  
#### 시간

- 여러 연산 중 시간과 관련된 연산을 그룹화하여 어떤 처리 작업을 시작하기 전과 뒤에 초기화, 뒷정리 작업(데이터베이스 연결과 종료와 같은)
을 담당하는 메서드를 포함하는 클래스가 그 예다.

### 메서드 수준 응집도

- 응집도 원칙은 클래스뿐만 아니라 메서드에도 적용할 수 있다.
메서드가 다양한 기능을 수행할수록 메서드가 어떤 동작을 하는지 이해하기가 점점 어려워진다.
- 일반적으로 클래스나 메서드 파라미터의 여러 필드를 바꾸는 if/else 블록이 여러 개 포함되어 있다면,
이는 응집도에 문제가 있음을 의미하므로 응집도가 높은 더 작은 조각으로 메서드를 분리해야 한다.
  
## 결합도 (Coupling)

- 결합도는 한 기능이 다른 클래스에 얼마나 의존하고 있는지를 가늠한다.
결합도는 어떤 클래스를 구현하는 데 얼마나 많은 클래스를 참조했는가로 설명할 수 있다.
- 더 많은 클래스를 참조했다면 기능을 변경할 때 그만큼 유연성이 떨어진다. 
  어떤 클래스의 코드를 바꾸면 이 클래스에 의존하는 모든 클래스가 영향을 받는다.